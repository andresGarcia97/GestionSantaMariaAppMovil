<app-sub-header subMenu="Salidas"></app-sub-header>

<ion-content>
    <ion-card>
        <ion-card-header>
            <ion-card-subtitle>
                Solo se permiten salidas entre las 04 y las 22 (en punto) :
            </ion-card-subtitle>
        </ion-card-header>
        <ion-card-content>
            <ion-list lines="full">
                <ion-item color="primary">
                    <ion-label>Fecha de Salida</ion-label>
                    <ion-datetime placeholder="Fecha Inasitencia" display-format="MMM DD HH" [min]="yearMinimo"
                        cancelText="Cancelar!" done-text="Aceptar" [ngModel]="fechaSalida.toISOString()"
                        (ionChange)="cambioFechaSalida( $event )"
                        monthShortNames="ENE,FEB, MAR, ABR, MAY,JUN,JUL,AGO,SEP,OCT,NOV,DIC">
                    </ion-datetime>
                </ion-item>
                <ion-item>
                    <ion-label position="floating">Lugar</ion-label>
                    <ion-input type="text" name="lugar" [(ngModel)]="nuevaSalida.lugar" minlength='2' maxlength='30'>
                    </ion-input>
                </ion-item>
                <ion-item color="primary">
                    <ion-label>Fecha de LLegada</ion-label>
                    <ion-datetime placeholder="Fecha Inasitencia" display-format="MMM DD HH" [min]="yearMinimo"
                        cancelText="Cancelar!" done-text="Aceptar" [ngModel]="fechaLlegada.toISOString()"
                        (ionChange)="cambioFechaLlegada( $event )"
                        monthShortNames="ENE,FEB, MAR, ABR, MAY,JUN,JUL,AGO,SEP,OCT,NOV,DIC">
                    </ion-datetime>
                </ion-item>
                <ion-item>
                    <ion-label position="stacked">
                        Motivo
                    </ion-label>
                    <ion-select placeholder="Seleccione el Motivo" (ionChange)="obtenerMotivo($event)">
                        <ion-select-option value={{academico}}>{{academico}}</ion-select-option>
                        <ion-select-option value={{personal}}>{{personal}}</ion-select-option>
                        <ion-select-option value={{recreativo}}>{{recreativo}}</ion-select-option>
                    </ion-select>
                </ion-item>
            </ion-list>
            <ion-grid>
                <ion-row>
                    <ion-col>
                        <ion-button expand="full " shape="round" (click)="crearSalida()">
                            Crear
                        </ion-button>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </ion-card-content>
    </ion-card>
    <ion-card>
        <ion-card-content *ngIf="mostrarLista">
            <ion-card-header>
                <ion-list>
                    <ion-item color="primary">
                        <ion-grid>
                            <ion-row>
                                <ion-col>
                                    <ion-label>Motivo</ion-label>
                                    <ion-label>Lugar</ion-label>
                                </ion-col>
                                <ion-col>
                                    <ion-label>Fecha Salida</ion-label>
                                    <ion-label>Fecha LLegada</ion-label>
                                </ion-col>
                            </ion-row>
                        </ion-grid>
                    </ion-item>
                </ion-list>
            </ion-card-header>
            <ion-list *ngFor="let salida of salidas">
                <ion-item>
                    <ion-grid>
                        <ion-row>
                            <ion-col>
                                <ion-label>{{salida.razon}}</ion-label>
                                <ion-label>{{salida.lugar}}</ion-label>
                            </ion-col>
                            <ion-col>
                                <ion-label>{{salida.fechaSalida | date:'MM/dd'}}</ion-label>
                                <ion-label>{{salida.fechaLlegada | date: 'MM/dd'}}</ion-label>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-item>
            </ion-list>
        </ion-card-content>
    </ion-card>
</ion-content>